!function(){var a=document.getElementById("c1"),b=a.getContext("2d"),c=a.width,d=a.height,e=null,f=!1,g=1,h=null,i=null,j=function(a){return a*(Math.PI/180)},k=null,l=[],m=[],n=2,o=function(a,b,d,e,f,g,h){this.x=a,this.y=b,this.r=4,this.ctx=d,this.waveSpeed=e,this.draw=function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!0),this.ctx.fillStyle=g,this.ctx.fill(),this.ctx.closePath()},this.move=function(){if(this.x<c+this.r&&this.x>=f)this.x+=this.waveSpeed;else if(this.x<f)for(var a in h)h[a]==this&&h.splice(a,1);else if(this.x>c+this.r)for(var a in h)h[a]==this&&h.splice(a,1)}};RedDot=function(a,b,c,d,e,f,g,h){this.x=a,this.y=b,this.r=c,this.angle=90,this.ctx=d,this.speedAngle=h,this.draw=function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,3,0,2*Math.PI,!0),this.ctx.fillStyle="green",this.ctx.fill(),this.ctx.closePath()},this.move=function(){this.angle+=this.speedAngle,this.x=e+Math.cos(j(this.angle))*g,this.y=f+Math.sin(j(this.angle))*g}},clearCanvas=function(a){a.clearRect(0,0,c,d)},drawC1=function(){b.beginPath(),b.arc(200,200,150,0,2*Math.PI,!0),b.strokeStyle="green",b.lineWidth=2,b.stroke(),b.closePath()},drawCentre=function(){b.beginPath(),b.arc(200,200,3,0,2*Math.PI,!0),b.fillStyle="green",b.fill(),b.closePath()},addRedDot=function(){k=new RedDot(250,50,5,b,200,200,150,g),k.draw()},moveRedDot=function(){k.move(),k.draw()},drawSineGuide=function(){b.beginPath(),b.moveTo(k.x,k.y),b.lineTo(400,k.y),b.strokeStyle="red",b.lineWidth=1,b.stroke(),b.closePath()},drawCosineGuide=function(){b.beginPath(),b.moveTo(k.x,k.y),b.lineTo(k.x,400),b.strokeStyle="blue",b.lineWidth=1,b.stroke(),b.closePath()},drawCosineArc=function(){h=350-k.x,i=400+h,b.beginPath(),b.arc(350,400,h,j(180),j(90),!0),b.lineTo(400,i),b.strokeStyle="blue",b.lineWidth=1,b.stroke(),b.closePath()},drawRadius=function(){b.beginPath(),b.moveTo(200,200),b.lineTo(k.x,k.y),b.strokeStyle="green",b.lineWidth=1,b.stroke(),b.beginPath()},addNewWaveDot=function(){var a=new o(400,k.y,b,n,400,"red",l);l.push(a),a.draw()},addNewCosineDot=function(){var a=new o(400,i,b,n,400,"blue",m);m.push(a),a.draw()},moveWaveDots=function(){for(var a in l)l[a].move(),l[a].draw();for(var a in m)m[a].move(),m[a].draw()},drawGreyLines=function(){b.beginPath(),b.moveTo(400,0),b.lineTo(400,d),b.moveTo(0,50),b.lineTo(c,50),b.moveTo(0,200),b.lineTo(c,200),b.moveTo(200,0),b.lineTo(200,d),b.moveTo(50,0),b.lineTo(50,d),b.moveTo(350,0),b.lineTo(350,d),b.moveTo(0,350),b.lineTo(c,350),b.moveTo(0,400),b.lineTo(c,400),b.moveTo(0,550),b.lineTo(c,550),b.moveTo(0,700),b.lineTo(c,700),b.strokeStyle="lightgrey",b.lineWidth=1,b.stroke(),b.closePath()},playLoop=function(){clearCanvas(b),drawGreyLines(),drawC1(),drawCentre(),moveRedDot(),drawRadius(),drawSineGuide(),drawCosineGuide(),drawCosineArc(),addNewWaveDot(),addNewCosineDot(),moveWaveDots(),e=window.requestAnimationFrame(playLoop)},pauseLoop=function(){console.log("paused"),window.cancelAnimationFrame(e)},bindBtns=function(){document.getElementById("pauseBtn").addEventListener("click",function(){pauseLoop(),f=!0}),document.getElementById("restoreBtn").addEventListener("click",function(){f&&(playLoop(),f=!1)}),document.getElementById("slowAngleBtn").addEventListener("click",function(){k.speedAngle--}),document.getElementById("pauseAngleBtn").addEventListener("click",function(){k.speedAngle=0}),document.getElementById("fastAngleBtn").addEventListener("click",function(){k.speedAngle++}),document.getElementById("slowGridBtn").addEventListener("click",function(){for(var a in l)l[a].waveSpeed--}),document.getElementById("pauseGridBtn").addEventListener("click",function(){for(var a in l)l[a].waveSpeed=0}),document.getElementById("fastGridBtn").addEventListener("click",function(){for(var a in l)l[a].waveSpeed++})},init=function(){addRedDot(),playLoop(),bindBtns()},window.addEventListener("blur",pauseLoop),window.addEventListener("load",init)}();